"use strict";(self.webpackChunkyield_docs=self.webpackChunkyield_docs||[]).push([[90],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=a.createContext({}),u=function(e){var t=a.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,d=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),s=u(n),m=r,k=s["".concat(d,".").concat(m)]||s[m]||p[m]||l;return n?a.createElement(k,o(o({ref:t},c),{},{components:n})):a.createElement(k,o({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,o=new Array(l);o[0]=s;var i={};for(var d in t)hasOwnProperty.call(t,d)&&(i[d]=t[d]);i.originalType=e,i.mdxType="string"==typeof e?e:r,o[1]=i;for(var u=2;u<l;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"},7251:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return d},default:function(){return m},frontMatter:function(){return i},metadata:function(){return u},toc:function(){return p}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),o=["components"],i={},d=void 0,u={unversionedId:"developers/technical_reference/vault/FYToken",id:"developers/technical_reference/vault/FYToken",title:"FYToken",description:"Functions",source:"@site/docs/developers/technical_reference/vault/FYToken.md",sourceDirName:"developers/technical_reference/vault",slug:"/developers/technical_reference/vault/FYToken",permalink:"/yield-docs/developers/technical_reference/vault/FYToken",draft:!1,editUrl:"https://github.com/iamsahu/yield-docs/tree/master/docs/developers/technical_reference/vault/FYToken.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"CauldronMath",permalink:"/yield-docs/developers/technical_reference/vault/CauldronMath"},next:{title:"FYTokenFactory",permalink:"/yield-docs/developers/technical_reference/vault/FYTokenFactory"}},c={},p=[{value:"Functions",id:"functions",level:2},{value:"constructor",id:"constructor",level:3},{value:"point",id:"point",level:3},{value:"mature",id:"mature",level:3},{value:"accrual",id:"accrual",level:3},{value:"redeem",id:"redeem",level:3},{value:"mintWithUnderlying",id:"mintwithunderlying",level:3},{value:"mint",id:"mint",level:3},{value:"burn",id:"burn",level:3},{value:"_burn",id:"_burn",level:3},{value:"maxFlashLoan",id:"maxflashloan",level:3},{value:"Parameters:",id:"parameters",level:4},{value:"Return Values:",id:"return-values",level:4},{value:"flashFee",id:"flashfee",level:3},{value:"Parameters:",id:"parameters-1",level:4},{value:"Return Values:",id:"return-values-1",level:4},{value:"flashLoan",id:"flashloan",level:3},{value:"Parameters:",id:"parameters-2",level:4},{value:"Events",id:"events",level:2},{value:"Point",id:"point-1",level:3},{value:"SeriesMatured",id:"seriesmatured",level:3},{value:"Redeemed",id:"redeemed",level:3}],s={toc:p};function m(e){var t=e.components,n=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"functions"},"Functions"),(0,l.kt)("h3",{id:"constructor"},"constructor"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function constructor(\n  ) public\n")),(0,l.kt)("h3",{id:"point"},"point"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function point(\n  ) external\n")),(0,l.kt)("p",null,"Point to a different Oracle or Join"),(0,l.kt)("h3",{id:"mature"},"mature"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function mature(\n  ) external\n")),(0,l.kt)("p",null,"Mature the fyToken by recording the chi.\nIf called more than once, it will revert."),(0,l.kt)("h3",{id:"accrual"},"accrual"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function accrual(\n  ) external returns (uint256)\n")),(0,l.kt)("p",null,"Retrieve the chi accrual since maturity, maturing if necessary."),(0,l.kt)("h3",{id:"redeem"},"redeem"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function redeem(\n  ) external returns (uint256 redeemed)\n")),(0,l.kt)("p",null,"Burn fyToken after maturity for an amount that increases according to ",(0,l.kt)("inlineCode",{parentName:"p"},"chi"),"\nIf ",(0,l.kt)("inlineCode",{parentName:"p"},"amount")," is 0, the contract will redeem instead the fyToken balance of this contract. Useful for batches."),(0,l.kt)("h3",{id:"mintwithunderlying"},"mintWithUnderlying"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function mintWithUnderlying(\n  ) external\n")),(0,l.kt)("p",null,"Mint fyToken providing an equal amount of underlying to the protocol"),(0,l.kt)("h3",{id:"mint"},"mint"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function mint(\n  ) external\n")),(0,l.kt)("p",null,"Mint fyTokens."),(0,l.kt)("h3",{id:"burn"},"burn"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function burn(\n  ) external\n")),(0,l.kt)("p",null,"Burn fyTokens. The user needs to have either transferred the tokens to this contract, or have approved this contract to take them."),(0,l.kt)("h3",{id:"_burn"},"_burn"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function _burn(\n  ) internal returns (bool)\n")),(0,l.kt)("p",null,"Burn fyTokens.\nAny tokens locked in this contract will be burned first and subtracted from the amount to burn from the user's wallet.\nThis feature allows someone to transfer fyToken to this contract to enable a ",(0,l.kt)("inlineCode",{parentName:"p"},"burn"),", potentially saving the cost of ",(0,l.kt)("inlineCode",{parentName:"p"},"approve")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"permit"),"."),(0,l.kt)("h3",{id:"maxflashloan"},"maxFlashLoan"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function maxFlashLoan(\n    address token\n  ) external returns (uint256)\n")),(0,l.kt)("p",null,"From ERC-3156. The amount of currency available to be lended."),(0,l.kt)("h4",{id:"parameters"},"Parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"token")),(0,l.kt)("td",{parentName:"tr",align:"left"},"address"),(0,l.kt)("td",{parentName:"tr",align:"left"},"The loan currency. It must be a FYDai contract.")))),(0,l.kt)("h4",{id:"return-values"},"Return Values:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"The")),(0,l.kt)("td",{parentName:"tr",align:"left"},"address"),(0,l.kt)("td",{parentName:"tr",align:"left"},"amount of ",(0,l.kt)("inlineCode",{parentName:"td"},"token")," that can be borrowed.")))),(0,l.kt)("h3",{id:"flashfee"},"flashFee"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function flashFee(\n    address token\n  ) external returns (uint256)\n")),(0,l.kt)("p",null,"From ERC-3156. The fee to be charged for a given loan."),(0,l.kt)("h4",{id:"parameters-1"},"Parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"token")),(0,l.kt)("td",{parentName:"tr",align:"left"},"address"),(0,l.kt)("td",{parentName:"tr",align:"left"},"The loan currency. It must be a FYDai.")))),(0,l.kt)("p",null,"param amount The amount of tokens lent."),(0,l.kt)("h4",{id:"return-values-1"},"Return Values:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"The")),(0,l.kt)("td",{parentName:"tr",align:"left"},"address"),(0,l.kt)("td",{parentName:"tr",align:"left"},"amount of ",(0,l.kt)("inlineCode",{parentName:"td"},"token")," to be charged for the loan, on top of the returned principal.")))),(0,l.kt)("h3",{id:"flashloan"},"flashLoan"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  function flashLoan(\n    contract IERC3156FlashBorrower receiver,\n    address token,\n    uint256 amount,\n    bytes data\n  ) external returns (bool)\n")),(0,l.kt)("p",null,"From ERC-3156. Loan ",(0,l.kt)("inlineCode",{parentName:"p"},"amount")," fyDai to ",(0,l.kt)("inlineCode",{parentName:"p"},"receiver"),", which needs to return them plus fee to this contract within the same transaction.\nNote that if the initiator and the borrower are the same address, no approval is needed for this contract to take the principal + fee from the borrower.\nIf the borrower transfers the principal + fee to this contract, they will be burnt here instead of pulled from the borrower."),(0,l.kt)("h4",{id:"parameters-2"},"Parameters:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,l.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"receiver")),(0,l.kt)("td",{parentName:"tr",align:"left"},"contract IERC3156FlashBorrower"),(0,l.kt)("td",{parentName:"tr",align:"left"},"The contract receiving the tokens, needs to implement the ",(0,l.kt)("inlineCode",{parentName:"td"},"onFlashLoan(address user, uint256 amount, uint256 fee, bytes calldata)")," interface.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"token")),(0,l.kt)("td",{parentName:"tr",align:"left"},"address"),(0,l.kt)("td",{parentName:"tr",align:"left"},"The loan currency. Must be a fyDai contract.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"amount")),(0,l.kt)("td",{parentName:"tr",align:"left"},"uint256"),(0,l.kt)("td",{parentName:"tr",align:"left"},"The amount of tokens lent.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},(0,l.kt)("inlineCode",{parentName:"td"},"data")),(0,l.kt)("td",{parentName:"tr",align:"left"},"bytes"),(0,l.kt)("td",{parentName:"tr",align:"left"},"A data parameter to be passed on to the ",(0,l.kt)("inlineCode",{parentName:"td"},"receiver")," for any custom use.")))),(0,l.kt)("h2",{id:"events"},"Events"),(0,l.kt)("h3",{id:"point-1"},"Point"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  event Point(\n  )\n")),(0,l.kt)("h3",{id:"seriesmatured"},"SeriesMatured"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  event SeriesMatured(\n  )\n")),(0,l.kt)("h3",{id:"redeemed"},"Redeemed"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-solidity"},"  event Redeemed(\n  )\n")))}m.isMDXComponent=!0}}]);